{"version":3,"sources":["../../../components/gallery-thumb/gallery-thumb.component.ts"],"names":[],"mappings":"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","file":"gallery-thumb.component.js","sourceRoot":"","sourcesContent":["import {\n  Component,\n  Input,\n  ChangeDetectionStrategy,\n  ElementRef,\n  Renderer2,\n  OnInit,\n  ViewEncapsulation\n} from '@angular/core';\nimport { Gallery } from '../../services/gallery.service';\nimport { GalleryState, GalleryThumbConfig } from '../../models/index';\n\ndeclare const Hammer: any;\nexport class GalleryThumbComponent implements OnInit {\n\n   state: GalleryState;\n   config: GalleryThumbConfig;\n/**\n * @param {?} gallery\n * @param {?} el\n * @param {?} renderer\n */\nconstructor(public gallery: Gallery,\nprivate el: ElementRef,\nprivate renderer: Renderer2) {\n\n  }\n/**\n * @return {?}\n */\nngOnInit() {\n/**\n * Set thumbnails position (top or bottom)\n */\nconst order = this.config.position === 'top' ? 0 : 2;\n    this.renderer.setStyle(this.el.nativeElement, 'order', order);\n    this.renderer.setStyle(this.el.nativeElement, '-webkit-order', order);\n\n    /** Enable gestures */\n    if (this.gallery.config.gestures) {\n      if (typeof Hammer === 'undefined') {\n\n        throw Error('[NgGallery]: HammerJS is undefined, make sure it is loaded');\n      } else {\n        const /** @type {?} */ el = this.el.nativeElement;\n        const /** @type {?} */ mc = new Hammer(el);\n\n        mc.on('panstart', () => {\n          this.renderer.removeClass(el, 'g-pan-reset');\n        });\n        mc.on('panend', () => {\n          this.renderer.addClass(el, 'g-pan-reset');\n        });\n\n        /** Pan left and right */\n        mc.on('pan', (e) => {\n          this.renderer.setStyle(el, 'transform', `translate3d(${e.deltaX}px, 0px, 0px)`);\n        });\n        /** Swipe next and prev */\n        mc.on('swipeleft', () => {\n          this.gallery.next();\n        });\n        mc.on('swiperight', () => {\n          this.gallery.prev();\n        });\n      }\n    }\n\n  }\n/**\n * Centralize active thumbnail\n * @return {?}\n */\ntranslateThumbs() {\n    const /** @type {?} */ x = this.state.currIndex * this.config.width + this.config.width / 2;\n    return `translate3d(${-x}px, 0, 0)`;\n  }\n/**\n * @param {?} i\n * @return {?}\n */\ngetThumbImage(i) {\n    /** Use thumbnail if presented */\n    return `url(${this.state.items[i].thumbnail || this.state.items[i].src})`;\n  }\n\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  selector: 'gallery-thumb',\n  template: `\n    <div class=\"g-thumb-container\"\n         [style.height.px]=\"config.height\"\n         [style.margin.px]=\"config.space\">\n\n      <div class=\"g-thumbs\" [style.transform]=\"translateThumbs()\">\n\n        <div class=\"g-thumb\" *ngFor=\"let image of state.items; let i = index\"\n             [class.g-thumb-current]=\"i === state.currIndex\"\n             [style.width.px]=\"gallery.config.thumbnails.width\"\n             [style.height.px]=\"gallery.config.thumbnails.height\">\n\n          <div class=\"g-thumb-image\"\n               [style.backgroundImage]=\"getThumbImage(i)\"\n               (tapClick)=\"gallery.set(i)\">\n          </div>\n        </div>\n\n      </div>\n\n    </div>\n  `,\n  styles: [`\n    gallery-thumb{display:block;z-index:1}.g-thumb-container{position:relative;z-index:2;width:100%;height:100%;left:0}.g-thumb-container,.g-thumbs{top:0;display:-webkit-box;display:-ms-flexbox;display:flex}.g-thumbs{position:absolute;left:50%;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-transition:-webkit-transform .3s ease-in;transition:-webkit-transform .3s ease-in;transition:transform .3s ease-in;transition:transform .3s ease-in,-webkit-transform .3s ease-in;-webkit-transform:translateZ(0);transform:translateZ(0)}.g-thumb{padding:8px;opacity:.5;-webkit-transition:all .2s linear;transition:all .2s linear}.g-thumb-image{cursor:pointer;width:100%;height:100%;background-position:50%;background-size:cover;-webkit-box-shadow:0 0 4px rgba(0,0,0,.3);box-shadow:0 0 4px rgba(0,0,0,.3)}.g-thumb-current{opacity:1;padding:2px}\n  `],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: Gallery, },\n{type: ElementRef, },\n{type: Renderer2, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'state': [{ type: Input },],\n'config': [{ type: Input },],\n};\n}\n\nfunction GalleryThumbComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nGalleryThumbComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nGalleryThumbComponent.ctorParameters;\n/** @type {?} */\nGalleryThumbComponent.propDecorators;\n/** @type {?} */\nGalleryThumbComponent.prototype.state;\n/** @type {?} */\nGalleryThumbComponent.prototype.config;\n/** @type {?} */\nGalleryThumbComponent.prototype.gallery;\n/** @type {?} */\nGalleryThumbComponent.prototype.el;\n/** @type {?} */\nGalleryThumbComponent.prototype.renderer;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}